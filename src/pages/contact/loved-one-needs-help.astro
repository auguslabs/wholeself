---
/**
 * My Loved One Needs Help Form Page - WholeSelf Counseling
 * 
 * Form for family members and friends seeking help for someone they care about.
 */

import BaseLayout from '@/layouts/BaseLayout.astro';
import Breadcrumb from '@/components/common/Breadcrumb';
import { getLocaleFromPath, withLocalePath } from '@/utils/i18n';

const lang = getLocaleFromPath(Astro.url.pathname);
const copy = {
  en: {
    title: 'My loved one needs help',
    intro:
      'Supporting someone you care about can be challenging. We\'re here to provide you with ' +
      'resources and guidance to help your loved one on their healing journey. Your concern ' +
      'and support matter, and we\'re here to help you navigate this process with care and respect.',
    labels: {
      yourName: 'Your Name',
      relationship: 'Relationship to Person Needing Help',
      contactInfo: 'Contact Information',
      contactMethod: 'Preferred Contact Method',
      situation: 'Brief Description of Situation',
      situationNote:
        'This information helps us understand how we can best support you and your loved one.',
      questions: 'Questions or Concerns',
      howHelp: 'How Can We Help?',
      howHelpNote: '(optional)',
    },
    placeholders: {
      name: 'Your full name',
      phone: 'Phone Number',
      email: 'Email Address (optional)',
      situation: 'Please share what you feel comfortable sharing about the situation...',
      questions: 'What questions or concerns do you have?',
      howHelp: 'What kind of support or information are you looking for?',
    },
    options: {
      select: 'Please select...',
      spouse: 'Spouse/Partner',
      parent: 'Parent',
      child: 'Child',
      sibling: 'Sibling',
      friend: 'Friend',
      other: 'Other',
      phone: 'Phone',
      email: 'Email',
      text: 'Text Message',
    },
    submit: 'Submit Request',
    note: "We'll respond to your request within 24-48 hours with resources and guidance.",
    breadcrumb: {
      contact: 'Contact',
      back: 'Back to Contact',
    },
  },
  es: {
    title: 'Mi ser querido necesita ayuda',
    intro:
      'Apoyar a alguien que te importa puede ser un reto. Estamos aquí para brindarte ' +
      'recursos y orientación que ayuden a tu ser querido en su camino de sanación. Tu ' +
      'preocupación y apoyo importan, y estamos aquí para acompañarte en este proceso con cuidado y respeto.',
    labels: {
      yourName: 'Tu nombre',
      relationship: 'Relación con la persona que necesita ayuda',
      contactInfo: 'Información de contacto',
      contactMethod: 'Método de contacto preferido',
      situation: 'Descripción breve de la situación',
      situationNote:
        'Esta información nos ayuda a entender cómo apoyar mejor a ti y a tu ser querido.',
      questions: 'Preguntas o inquietudes',
      howHelp: '¿Cómo podemos ayudar?',
      howHelpNote: '(opcional)',
    },
    placeholders: {
      name: 'Tu nombre completo',
      phone: 'Número de teléfono',
      email: 'Correo electrónico (opcional)',
      situation: 'Comparte lo que te resulte cómodo sobre la situación...',
      questions: '¿Qué preguntas o inquietudes tienes?',
      howHelp: '¿Qué tipo de apoyo o información estás buscando?',
    },
    options: {
      select: 'Selecciona una opción...',
      spouse: 'Cónyuge/Pareja',
      parent: 'Madre/Padre',
      child: 'Hijo/a',
      sibling: 'Hermano/a',
      friend: 'Amigo/a',
      other: 'Otro',
      phone: 'Teléfono',
      email: 'Correo',
      text: 'Mensaje de texto',
    },
    submit: 'Enviar solicitud',
    note: 'Responderemos tu solicitud en 24-48 horas con recursos y orientación.',
    breadcrumb: {
      contact: 'Contacto',
      back: 'Volver a Contacto',
    },
  },
};
const t = copy[lang];
---

<BaseLayout title={`${t.title} - WholeSelf Counseling`}>
  <!-- Breadcrumb Navigation -->
  <Breadcrumb
    client:load
    items={[
      { label: t.breadcrumb.contact, href: withLocalePath('/contact', lang) },
      { label: t.title }
    ]}
    language={lang}
    backHref={withLocalePath('/contact', lang)}
    backText={t.breadcrumb.back}
  />

  <section class="py-16 px-4 bg-gray-50 min-h-screen">
    <div class="container mx-auto max-w-3xl">
      <!-- Header -->
      <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-navy-800 mb-4">
          {t.title}
        </h1>
        <p class="text-lg text-gray-700 max-w-2xl mx-auto">
          {t.intro}
        </p>
      </div>

      <!-- Form -->
      <div class="bg-white rounded-lg shadow-md p-8">
        <form class="space-y-6" method="POST" action="/api/contact">
          <!-- Your Name -->
          <div>
            <label for="your-name" class="block text-sm font-medium text-gray-700 mb-2">
              {t.labels.yourName} <span class="text-red-500">*</span>
            </label>
            <input
              type="text"
              id="your-name"
              name="yourName"
              required
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
              placeholder={t.placeholders.name}
            />
          </div>

          <!-- Relationship -->
          <div>
            <label for="relationship" class="block text-sm font-medium text-gray-700 mb-2">
              {t.labels.relationship} <span class="text-red-500">*</span>
            </label>
            <select
              id="relationship"
              name="relationship"
              required
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
            >
              <option value="">{t.options.select}</option>
              <option value="spouse">{t.options.spouse}</option>
              <option value="parent">{t.options.parent}</option>
              <option value="child">{t.options.child}</option>
              <option value="sibling">{t.options.sibling}</option>
              <option value="friend">{t.options.friend}</option>
              <option value="other">{t.options.other}</option>
            </select>
          </div>

          <!-- Contact Information -->
          <div>
            <label for="contact-info" class="block text-sm font-medium text-gray-700 mb-2">
              {t.labels.contactInfo} <span class="text-red-500">*</span>
            </label>
            <div class="space-y-4">
              <input
                type="tel"
                id="phone"
                name="phone"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                placeholder={t.placeholders.phone}
              />
              <input
                type="email"
                id="email"
                name="email"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                placeholder={t.placeholders.email}
              />
            </div>
          </div>

          <!-- Preferred Contact Method -->
          <div>
            <label for="contact-method" class="block text-sm font-medium text-gray-700 mb-2">
              {t.labels.contactMethod}
            </label>
            <select
              id="contact-method"
              name="contactMethod"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
            >
              <option value="">{t.options.select}</option>
              <option value="phone">{t.options.phone}</option>
              <option value="email">{t.options.email}</option>
              <option value="text">{t.options.text}</option>
            </select>
          </div>

          <!-- Brief Description of Situation -->
          <div>
            <label for="situation" class="block text-sm font-medium text-gray-700 mb-2">
              {t.labels.situation}
            </label>
            <textarea
              id="situation"
              name="situation"
              rows="5"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
              placeholder={t.placeholders.situation}
            ></textarea>
            <p class="text-sm text-gray-500 mt-1">
              {t.labels.situationNote}
            </p>
          </div>

          <!-- Questions or Concerns -->
          <div>
            <label for="questions" class="block text-sm font-medium text-gray-700 mb-2">
              {t.labels.questions}
            </label>
            <textarea
              id="questions"
              name="questions"
              rows="4"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
              placeholder={t.placeholders.questions}
            ></textarea>
          </div>

          <!-- How Can We Help -->
          <div>
            <label for="how-help" class="block text-sm font-medium text-gray-700 mb-2">
              {t.labels.howHelp}{' '}
              <span class="text-gray-500 text-sm font-normal">{t.labels.howHelpNote}</span>
            </label>
            <textarea
              id="how-help"
              name="howHelp"
              rows="4"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
              placeholder={t.placeholders.howHelp}
            ></textarea>
          </div>

          <!-- Submit Button -->
          <div class="pt-4">
            <button
              type="submit"
              class="w-full bg-primary-600 text-white font-medium py-3 px-6 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors"
            >
              {t.submit}
            </button>
          </div>

          <p class="text-sm text-gray-600 text-center mt-4">
            {t.note}
          </p>
        </form>
      </div>
    </div>
  </section>
</BaseLayout>

