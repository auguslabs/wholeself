---
/**
 * CTA Section Component - Three Column Call-to-Action
 * 
 * Displays three clickable panels for different user paths.
 * Content loaded from home.json
 */

import { getLocalizedText } from '@/data/services/contentService';
import CTACard from './CTACard';

const { ctaSection, lang = 'en' } = Astro.props;

// Colores para cada CTA
const ctaColors = {
  'i-need-help': {
    bg: 'bg-blueGreen-100',
    bgHover: 'bg-blueGreen-500',
    bgHoverDark: 'bg-blueGreen-600',
    text: 'text-blueGreen-500',
    textDesc: 'text-blueGreen-700'
  },
  'loved-one': {
    bg: 'bg-navy-100',
    bgHover: 'bg-navy-500',
    bgHoverDark: 'bg-navy-600',
    text: 'text-navy-500',
    textDesc: 'text-navy-700'
  },
  'referral': {
    bg: 'bg-lightbrown-100',
    bgHover: 'bg-lightbrown-500',
    bgHoverDark: 'bg-lightbrown-600',
    text: 'text-lightbrown-500',
    textDesc: 'text-lightbrown-700'
  }
};
---

<section id="cta-section" class="py-16 px-4 bg-white">
  <div class="container mx-auto max-w-7xl">
    {ctaSection.title && (
      <h2 class="text-3xl font-bold text-center mb-8 text-navy-900">
        {getLocalizedText(ctaSection.title, lang)}
      </h2>
    )}
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8">
      {ctaSection.ctas.map((cta: any, index: number) => {
        const colors = ctaColors[cta.id as keyof typeof ctaColors] || ctaColors['i-need-help'];
        return (
          <CTACard
            client:load
            id={cta.id}
            title={getLocalizedText(cta.title, lang)}
            description={getLocalizedText(cta.description, lang)}
            link={cta.link}
            iconName={cta.icon}
            colors={colors}
          />
        );
      })}
    </div>
  </div>
</section>

